{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}

    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Company Name</th>
          <th scope="col">Stock Symbol</th>
          <th scope="col">Quantity</th>
          <th scope="col">BUY/SELL</th>
          <th scope="col">Price</th>
          <th scope="col">Value</th>
          <th scope="col">Timestamp</th>
        </tr>
      </thead>
      <tbody>

      {%for d in groups %}
      {%set stock = lookup(d.symbol)%}

        <tr>
          <th scope="row">{{loop.index}}</th>
          <td>{{stock.name}}</td>
          <td>{{d.symbol}}</td>
          <td>{{d.num_shares}}</td>
          <td>{{d.trans_type}}
          <td>{{"$%.2f" | format(d.share_price)}}</td>
          <td>{{"$%.2f" | format(d.total_cost)}}</td>
          <td>{{d.timestamp}}</td>
        </tr>

        {% endfor %}

      </tbody>
    </table>

{% endblock %}